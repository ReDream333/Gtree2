package ru.kpfu.itis.kononenko.gtree2.utils;

import java.time.LocalDate;
import java.util.Map;

public class ZodiacUtils {

    private static final Map<String, String> ADVICE = Map.ofEntries(
            Map.entry("Овен", "Ваш род полон энергии и смелости. Помогайте друг другу направлять эту силу в мирное русло."),
            Map.entry("Телец", "Упорство вашего рода впечатляет. Старайтесь избегать излишнего упрямства."),
            Map.entry("Близнецы", "Гибкость и общительность преобладают. Главное – не распыляйтесь."),
            Map.entry("Рак", "Семейные узы особенно крепки. Берегите чувствительность и избегайте обид."),
            Map.entry("Лев", "Харизма лидеров рода велика. Не забывайте прислушиваться к другим."),
            Map.entry("Дева", "Трудолюбие и практичность – ваш козырь. Учитесь иногда расслабляться."),
            Map.entry("Весы", "Дипломатия и стремление к гармонии ведут ваш род. Главное – принимать решения вовремя."),
            Map.entry("Скорпион", "Страсть и глубина чувств доминируют. Помните про терпимость."),
            Map.entry("Стрелец", "Оптимизм и любовь к свободе объединяют вас. Старайтесь завершать начатое."),
            Map.entry("Козерог", "Амбиции и дисциплина делают род сильным. Не забывайте об отдыхе."),
            Map.entry("Водолей", "Новаторство и независимость отличают вас. Цените традиции."),
            Map.entry("Рыбы", "Сочувствие и творческий подход заметны в роду. Важно не уходить в иллюзии.")
    );

    public static String getZodiacSign(LocalDate date) {
        if (date == null) return null;
        int day = date.getDayOfMonth();
        int month = date.getMonthValue();
        return switch (month) {
            case 1 -> day < 20 ? "Козерог" : "Водолей";
            case 2 -> day < 19 ? "Водолей" : "Рыбы";
            case 3 -> day < 21 ? "Рыбы" : "Овен";
            case 4 -> day < 20 ? "Овен" : "Телец";
            case 5 -> day < 21 ? "Телец" : "Близнецы";
            case 6 -> day < 22 ? "Близнецы" : "Рак";
            case 7 -> day < 23 ? "Рак" : "Лев";
            case 8 -> day < 23 ? "Лев" : "Дева";
            case 9 -> day < 23 ? "Дева" : "Весы";
            case 10 -> day < 23 ? "Весы" : "Скорпион";
            case 11 -> day < 22 ? "Скорпион" : "Стрелец";
            case 12 -> day < 22 ? "Стрелец" : "Козерог";
            default -> null;
        };
    }

    public static String getAdvice(String sign) {
        if (sign == null) return "Недостаточно данных для прогноза.";
        return ADVICE.getOrDefault(sign, "Недостаточно данных для прогноза.");
    }
}